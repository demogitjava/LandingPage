<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">

    <link th:href="@{/bootstrap4/css/bootstrap.css}" rel="stylesheet" />
    <link th:href="@{/grapesjs/css/grapes.min.css}" rel="stylesheet" />
    <link th:href="@{/fontawesome/css/fontawesome.css}" rel="stylesheet" />
    <link th:href="@{/webpagepresent/grapesjs-preset-webpage.min.css}" rel="stylesheet" />

    <script th:src="@{/jquery/jquery-3.5.1.min.js}"></script>
    <script th:src="@{/bootstrap4/js/bootstrap.js}"></script>
    <script th:src="@{/popper.min.js}"></script>

    <script th:src="@{/grapesjs/grapes.min.js}"></script>
    <script th:src="@{/webpagepresent/grapesjs-blocks-bootstrap4.min.js}"></script>
    <script th:src="@{/grapesjs/grapesjs-indexeddb.min.js}"></script>
    <script th:src="@{/grapesjs/ajaxable.min.js}"></script>
    <style>

      body,
      html
      {
        row: 0;
        padding: 0;
        margin: 0;
        height: 100%;

      }
    </style>

  </head>

  <body>

  <p th:text="${message}"></p>




  <div id="gjs" th:include="startbootstrap-small-business/index">

  </div>

  <script type="text/javascript">

   let editor = grapesjs.init({
      showOffsets: 1,
      noticeOnUnload: 0,
      container: '#gjs',
      height: '100%',
      fromElement: true,

     plugins: ['grapesjs-blocks-bootstrap4'],
     pluginsOpts: {
       'grapesjs-blocks-bootstrap4': {
         blocks: {},
         blockCategories: {},
         labels: {},
         gridDevicesPanel: true,
         formPredefinedActions: [
           {name: 'Contact', value: '/contact'},
           {name: 'landing', value: '/landing'},
         ]
       }
     },
      canvas: {
       styles: [
               // <link th:href="@{/bootstrap4/css//bootstrap.css}" rel="stylesheet" />
         '/bootstrap4/css/bootstrap.css',
         '/fontawesome/css/fontawesome.css',
         '/grapesjs/css/grapes.min.css',


       ],
       scripts: [
         '/jquery/jquery-3.2.1.min.js',
         '/popper.min.js',
         '/bootstrap4/js/bootstrap.js',
         '/bootstrap4/js/bootstrap.bundle.js',
         '/grapesjs/ajaxable.min.js'

       ],
        plugins: [
          'gjs-preset-webpage',
          'grapesjs-blocks-bootstrap4'
        ],


     }

   });



   let panelManager = editor.Panels;
   panelManager.addButton('options', {
     id        : 'clearCanvas',
     className : 'fa fa-trash',
     command   : e => e.runCommand('core:canvas-clear'),
     active    : false
   });




   editor.BlockManager.add('Container',
           {
             category: 'Bootstrap4',
             label: '<h1><i class="fa fa-th fa-lg"></i></h1>Container',
             label: 'Container',
             content: '<div class="container-fluid">' +
                     '<div class="row">' +
                     '<div class="col-sm-6"><p>row1</p></div>' +
                     '<div class="col-sm-6"><p>row2</p></div>' +
                     '<div class="col-sm-6"><p>row1</p></div>' +
                     '<div class="col-sm-6"><p>row2</p></div>' +
                     '<div class="col-sm-6"><p>row1</p></div>' +
                     '<div class="col-sm-6"><p>row2</p></div>' +
                     '<div class="col-sm-6"><p>row1</p></div>' +
                     '<div class="col-sm-6"><p>row2</p></div>' +
                     '</div>' +
                      '</div>'
           });

   editor.BlockManager.add('add_Row - 12',
           {
             category: 'Bootstrap4',
             label: '<h1><i class="fa fa-th fa-lg"></i></h1>Row - 12  5/5',
             label: '2 Columns',
             content: '<div class="row">' +
                     '<div class="col-sm-6"><p>row1</p></div>' +
                     '<div class="col-sm-6"><p>row2</p></div>' +
                     '</div>',
           });





   editor.BlockManager.add('TestMessage',
           {
             category: 'Bootstrap4',
             label: '<h1><i class="fa fa-th fa-lg"></i></h1> dynamic test',
             content: '<p id="message">[[${message}]]</p>',

           });

   editor.getConfig().showDevices = false;
   window.editor = editor;
  </script>

  <div id="tablecrud">

    <table class="table table-striped">
      <thead>
          <tr>
            <th>Framename</th>
            <th>German</th>
            <th>English</th>
            <th>French</th>
            <th>Spanish</th>
            <th>Italian</th>
            <th>Turkish</th>
            <th>bindto</th>
            <th>Template</th>
            <th>Title Template</th>
            <th>Edit</th>
          </tr>
      </thead>
      <tbody>
        <tr th:each="webtextlayout : ${listtemplate}">
          <td th:text="${webtextlayout.framename}">Framename</td>
          <td th:text="${webtextlayout.de}">German</td>
          <td th:text="${webtextlayout.eng}">English</td>
          <td th:text="${webtextlayout.fr}">French</td>
          <td th:text="${webtextlayout.esp}">Spanish</td>
          <td th:text="${webtextlayout.it}">Italian</td>
          <td th:text="${webtextlayout.tr}">Turkish</td>
          <td th:text="${webtextlayout.bindto}">bindto</td>
          <td th:text="${webtextlayout.template}">Template</td>
          <td th:text="${webtextlayout.titletemplate}">Title Template</td>
          <td>
            <button type="button" class="btn btn-primary" th:href="@{/edit/{id}(id=${webtextlayout.id})}">edit</button>

            <!--
            open edit modal
            -->
            <div class="modal" th:id="${webtextlayout.id}">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <p>Modal body text goes here.</p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-primary">Save changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>
          </td>


        </tr>
      </tbody>
    </table>


  </div>
  </body>
</html>